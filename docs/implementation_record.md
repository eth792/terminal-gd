# OCR Match Core å®æ–½è®°å½•

æœ¬æ–‡æ¡£è®°å½• ocr-match-core çš„ç‰ˆæœ¬è¿­ä»£å’Œå…³é”®æ”¹è¿›ã€‚

## ç‰ˆæœ¬å†å²

### v0.1.5 - P1ä¼˜åŒ–ï¼šé¡¹ç›®ä¼˜å…ˆç­–ç•¥ (2025-11-13)

**å®æ–½å†…å®¹**:
- æ·»åŠ "é¡¹ç›®ä¼˜å…ˆ"ç­–ç•¥ï¼ˆRule 3.5ï¼‰
- é™ä½é«˜ç½®ä¿¡åº¦f2_scoreé˜ˆå€¼ï¼ˆRule 5ï¼‰
- å®ç°è‡ªåŠ¨é€šè¿‡ç‡ **27.5% â†’ 31.5%** (**1.15å€æå‡**)

#### ä»£ç å˜æ›´

**1. æ–°å¢ FailReason** (`packages/ocr-match-core/src/bucket/reasons.ts:19`)

```typescript
export enum FailReason {
  // ... ç°æœ‰åŸå› 

  /** ä¾›åº”å•†ä¸åŒä½†é¡¹ç›®é«˜åº¦åŒ¹é… */
  SUPPLIER_DIFF_SAME_PROJECT = 'SUPPLIER_DIFF_SAME_PROJECT',
}
```

**2. æ–°å¢è§„åˆ™3.5ï¼ˆé¡¹ç›®ä¼˜å…ˆç­–ç•¥ï¼‰** (`packages/ocr-match-core/src/bucket/bucketize.ts:54-61`)

åœ¨è§„åˆ™3ä¹‹åæ·»åŠ ï¼Œæ•è·é¡¹ç›®é«˜åº¦åŒ¹é…ä½†ä¾›åº”å•†æœ‰å·®å¼‚çš„è¾¹ç•Œæ¡ˆä¾‹ï¼š

```typescript
// è§„åˆ™3.5: é¡¹ç›®é«˜åº¦åŒ¹é…ï¼Œä¾›åº”å•†å¯æ”¾å®½ â†’ review
// "é¡¹ç›®ä¼˜å…ˆ"ç­–ç•¥ï¼šåŒä¸€é¡¹ç›®å¯èƒ½ç”±å¤šä¸ªä¾›åº”å•†åˆ†æ‰¹ä¾›è´§
// å½“é¡¹ç›®åŒ¹é…åº¦å¾ˆé«˜æ—¶ï¼Œå…è®¸ä¾›åº”å•†æœ‰å·®å¼‚ï¼Œäº¤ç”±äººå·¥å®¡æ ¸
// âš ï¸ å…³é”®ï¼šåªæ•è·f1_scoreåœ¨[0.40, 0.60)åŒºé—´çš„è¾¹ç•Œæ¡ˆä¾‹
// f1_score >= 0.60çš„æ¡ˆä¾‹ç»§ç»­å‘ä¸‹ï¼Œå¯èƒ½è¿›å…¥é«˜ç½®ä¿¡åº¦æ—è·¯æˆ–è‡ªåŠ¨é€šè¿‡
if (top1.f2_score >= 0.80 && top1.f1_score >= 0.40 && top1.f1_score < 0.60) {
  return { bucket: 'review', reason: FailReason.SUPPLIER_DIFF_SAME_PROJECT };
}
```

**3. è°ƒæ•´è§„åˆ™5ï¼ˆé«˜ç½®ä¿¡åº¦æ—è·¯é˜ˆå€¼ï¼‰** (`packages/ocr-match-core/src/bucket/bucketize.ts:71`)

é™ä½é˜ˆå€¼ä»¥æ•‘å›è¾¹ç•Œæ¡ˆä¾‹ï¼š

```typescript
// è§„åˆ™5: é«˜ç½®ä¿¡åº¦æ—è·¯ - æé«˜åˆ†æ•°ç›´æ¥é€šè¿‡ï¼Œå¿½ç•¥ delta
// v0.1.5: é™ä½é˜ˆå€¼ä»¥æ•‘å›è¾¹ç•Œæ¡ˆä¾‹ï¼ˆscore 0.90â†’0.85, f2_score 0.80â†’0.75ï¼‰
if (top1.score >= 0.85 && top1.f1_score >= 0.80 && top1.f2_score >= 0.75) {
  return { bucket: 'exact', reason: null };
}
```

**é˜ˆå€¼å˜æ›´å¯¹æ¯”**:

| å‚æ•° | v0.1.4 | v0.1.5 | è¯´æ˜ |
|------|--------|--------|------|
| `score` | >= 0.90 | >= **0.85** | é™ä½0.05 |
| `f1_score` | >= 0.80 | >= 0.80 | ä¸å˜ |
| `f2_score` | >= 0.80 | >= **0.75** | é™ä½0.05 |

#### æµ‹è¯•ç»“æœ

| ç‰ˆæœ¬ | Exact | Review | Fail | è‡ªåŠ¨é€šè¿‡ç‡ | è¿è¡Œ ID |
|------|-------|--------|------|------------|---------||
| v0.1.4 | 61 (27.5%) | 27 (12.2%) | 134 (60.4%) | 27.5% | `run_p0_fix_20251113_093559` |
| **v0.1.5** | **70 (31.5%)** | 25 (11.3%) | 127 (57.2%) | **31.5%** | `run_v0.1.5_fix_20251113_133741` |

**æ”¹å–„æ•ˆæœ**:
- âœ… **9 ä¸ªæ¡ˆä¾‹è¢«æ•‘å›** (fail/review â†’ exact)
- âœ… **è‡ªåŠ¨é€šè¿‡ç‡**: 27.5% â†’ **31.5%** (**+4.0%**, **1.15å€**)
- âœ… **FIELD_SIM_LOW_SUPPLIER**: 42 â†’ 22 (-20, **-47.6%**)
- âœ… **DELTA_TOO_SMALL**: 27 â†’ 18 (-9, **-33.3%**)
- ğŸ†• **SUPPLIER_DIFF_SAME_PROJECT**: 7ä¸ªæ–°å¢æ¡ˆä¾‹

**å¤±è´¥åŸå› åˆ†å¸ƒå˜åŒ–**:
- FIELD_SIM_LOW_PROJECT: 54 â†’ 67 (+13, +24.1%) âš ï¸
- FIELD_SIM_LOW_SUPPLIER: 42 â†’ 22 (-20, -47.6%) âœ…
- DELTA_TOO_SMALL: 27 â†’ 18 (-9, -33.3%) âœ…

#### å®æ–½è¿‡ç¨‹ä¸­çš„Bug

**Bug**: Rule 3.5 åˆå§‹å®ç°ç¼ºå°‘ä¸Šç•Œçº¦æŸ

**é”™è¯¯ä»£ç ** (v0.1.5 é¦–æ¬¡æµ‹è¯•):
```typescript
if (top1.f2_score >= 0.80 && top1.f1_score >= 0.40) {
  return { bucket: 'review', reason: FailReason.SUPPLIER_DIFF_SAME_PROJECT };
}
```

**é—®é¢˜**: æ•è·äº†æ‰€æœ‰ `f1_score >= 0.40` çš„æ¡ˆä¾‹ï¼ŒåŒ…æ‹¬é«˜è´¨é‡åŒ¹é…ï¼Œå¯¼è‡´ï¼š
- Exact: 61 â†’ 9 (æš´è·Œ85.2%)
- Review: 27 â†’ 86 (æš´æ¶¨218.5%)

**ä¿®å¤**: æ·»åŠ ä¸Šç•Œçº¦æŸ `&& top1.f1_score < 0.60`

#### ç›¸å…³æ–‡æ¡£

- **å®Œæ•´æŠ¥å‘Š**: `analysis/v0.1.5/v0.1.5_å®æµ‹æŠ¥å‘Š.md`
- **å®æ–½è®¡åˆ’**: `analysis/current/v0.1.5_plan.md`
- **è¿è¡ŒåŒ…**: `runs/run_v0.1.5_fix_20251113_133741/`

#### æŠ€æœ¯æ´å¯Ÿ

**ä¸ºä»€ä¹ˆæ–°ç­–ç•¥æ•è·æ¡ˆä¾‹ä½äºé¢„æœŸï¼Ÿ**
- **é¢„æœŸ**: 21ä¸ª SUPPLIER_DIFF_SAME_PROJECT æ¡ˆä¾‹
- **å®é™…**: 7ä¸ªæ¡ˆä¾‹ (ä»…33%)
- **åŸå› **: Rule 3.5 çº¦æŸæ¡ä»¶è¿‡äºä¸¥æ ¼ï¼ˆ`f2_score >= 0.80 && f1_score âˆˆ [0.40, 0.60)`ï¼‰
- **æœªæ¥ä¼˜åŒ–**: v0.1.6 å¯è€ƒè™‘æ”¾å®½çº¦æŸï¼ˆé™ä½f2_scoreè‡³0.75ï¼Œæé«˜f1_scoreä¸Šç•Œè‡³0.65ï¼‰

**FIELD_SIM_LOW_PROJECT æ„å¤–å¢åŠ çš„åŸå› **:
- è§„åˆ™é¡ºåºè°ƒæ•´åï¼Œä¸€äº›åŸæœ¬è¢« Rule 4 (FIELD_SIM_LOW_SUPPLIER) æ•è·çš„æ¡ˆä¾‹
- ç°åœ¨è¢« Rule 3 (FIELD_SIM_LOW_PROJECT) æå‰æ‹¦æˆª
- éœ€è¦è¿›ä¸€æ­¥åˆ†æè¿™13ä¸ªæ–°å¢æ¡ˆä¾‹

---

### v0.1.4 - P0-Fix: é«˜ç½®ä¿¡åº¦æ—è·¯ (2025-11-13)

**å®æ–½å†…å®¹**:
- ä¿®å¤åˆ†æ¡¶é€»è¾‘è®¾è®¡ç¼ºé™·ï¼ˆé«˜ç½®ä¿¡åº¦æ—è·¯ï¼‰
- è§£å†³ P0-2 æ— æ•ˆçš„æ ¹æœ¬åŸå› 
- å®ç°è‡ªåŠ¨é€šè¿‡ç‡ **3.6% â†’ 27.5%** (**7.6å€æå‡**)

#### ä»£ç å˜æ›´

**1. ä¿®å¤ `bucketize.ts` åˆ†æ¡¶é€»è¾‘** (`packages/ocr-match-core/src/bucket/bucketize.ts:57-61`)

æ–°å¢è§„åˆ™4ï¼ˆé«˜ç½®ä¿¡åº¦æ—è·¯ï¼‰ï¼Œåœ¨ delta æ£€æŸ¥ä¹‹å‰æ‹¦æˆªé«˜è´¨é‡åŒ¹é…ï¼š

```typescript
// è§„åˆ™4: é«˜ç½®ä¿¡åº¦æ—è·¯ - æé«˜åˆ†æ•°ç›´æ¥é€šè¿‡ï¼Œå¿½ç•¥ delta
// ä¿®å¤è®¾è®¡ç¼ºé™·ï¼šé¿å…é«˜è´¨é‡åŒ¹é…è¢« delta æ£€æŸ¥è¯¯åˆ¤ä¸º review
if (top1.score >= 0.90 && top1.f1_score >= 0.80 && top1.f2_score >= 0.80) {
  return { bucket: 'exact', reason: null };
}

// è§„åˆ™5: Top1-Top2 å·®å€¼è¿‡å° â†’ review
if (delta < config.minDeltaTop) {
  return { bucket: 'review', reason: FailReason.DELTA_TOO_SMALL };
}
```

**è®¾è®¡ç¼ºé™·è¯´æ˜**:
- åŸé€»è¾‘ï¼šRule 4 (delta check) åœ¨ Rule 5 (autoPass check) ä¹‹å‰ï¼Œæå‰è¿”å›
- åæœï¼šDELTA_TOO_SMALL æ¡ˆä¾‹æ°¸è¿œæ— æ³•è¢« autoPass æ•‘å›
- ä¿®å¤ï¼šåœ¨ delta æ£€æŸ¥å‰å¢åŠ é«˜ç½®ä¿¡åº¦æ—è·¯ï¼Œç›´æ¥é€šè¿‡é«˜åˆ†æ¡ˆä¾‹

#### æµ‹è¯•ç»“æœ

| ç‰ˆæœ¬ | Exact | Review | Fail | è‡ªåŠ¨é€šè¿‡ç‡ | è¿è¡Œ ID |
|------|-------|--------|------|------------|---------||
| P0-1 Bugfix | 8 (3.6%) | 80 (36.0%) | 134 (60.4%) | 3.6% | `run_p0_1_bugfix_20251113_011205` |
| **P0-Fix** | **61 (27.5%)** | 27 (12.2%) | 134 (60.4%) | **27.5%** | `run_p0_fix_20251113_093559` |

**æ”¹å–„æ•ˆæœ**:
- âœ… **53 ä¸ªé«˜è´¨é‡åŒ¹é…è¢«æ•‘å›** (review â†’ exact)
- âœ… **è‡ªåŠ¨é€šè¿‡ç‡**: 3.6% â†’ **27.5%** (**+23.9%**, **7.6å€**)
- âœ… **DELTA_TOO_SMALL**: 80 â†’ 27 (-53 ä¸ª)
- âœ… è¶…å‡ºé¢„æœŸï¼šé¢„æœŸ 12-16%ï¼Œå®é™… **27.5%**

#### ç›¸å…³æ–‡æ¡£

- **å®Œæ•´æŠ¥å‘Š**: `analysis/P0_fix_report_20251113.md`
- **è¿è¡ŒåŒ…**: `runs/run_p0_fix_20251113_093559/`

#### æŠ€æœ¯æ´å¯Ÿ

**ä¸ºä»€ä¹ˆ P0-2 (é™ä½ minDeltaTop) å®Œå…¨æ— æ•ˆï¼Ÿ**
- åŸè§„åˆ™é¡ºåºï¼šdelta æ£€æŸ¥åœ¨ autoPass æ£€æŸ¥ä¹‹å‰
- å³ä½¿é™ä½ minDeltaTop é˜ˆå€¼ï¼Œé«˜åˆ†æ¡ˆä¾‹ä»è¢« delta æ£€æŸ¥æå‰æ‹¦æˆª
- éœ€è¦ä»£ç çº§ä¿®å¤ï¼Œè€Œä¸æ˜¯å‚æ•°è°ƒæ•´

**é«˜ç½®ä¿¡åº¦æ—è·¯çš„è®¾è®¡ç†å¿µ**:
- **åˆ†æ•° >= 0.90**: ç»¼åˆç›¸ä¼¼åº¦æé«˜
- **å­—æ®µåˆ† >= 0.80**: å•å­—æ®µåŒ¹é…å¯é 
- **é€»è¾‘**: åŒæ—¶æ»¡è¶³è¿™äº›æ¡ä»¶çš„åŒ¹é…ï¼Œå³ä½¿ Top1-Top2 å·®å€¼å°ï¼Œä¹Ÿåº”ç›´æ¥é€šè¿‡
- **æ”¶ç›Š**: æ•‘å› 53 ä¸ªé«˜è´¨é‡åŒ¹é…ï¼Œè‡ªåŠ¨é€šè¿‡ç‡æå‡ 7.6 å€

---

### v0.1.3 - P0 ä¼˜åŒ–ï¼šæ ‡ç‚¹ç¬¦å·å½’ä¸€åŒ– (2025-11-13)

**å®æ–½å†…å®¹**:
- **P0-1**: æ ‡ç‚¹ç¬¦å·å½’ä¸€åŒ– (Normalizer æ¨¡å¼)
- **P0-1 Bugfix**: ä¿®å¤åå¤„ç†æ¸…æ´—çš„åŠè§’å†’å·æ”¯æŒ
- **P0-2**: å°è¯•é™ä½ minDeltaTop é˜ˆå€¼ (å‘ç°è®¾è®¡ç¼ºé™·)

#### ä»£ç å˜æ›´

**1. å¼•å…¥ Normalizer å‡½æ•°æ¨¡å¼** (`packages/ocr-match-core/src/match/`)

åœ¨ç›¸ä¼¼åº¦è®¡ç®—å‰ç»Ÿä¸€åº”ç”¨æ ‡ç‚¹ç¬¦å·å½’ä¸€åŒ–ï¼š

- `similarity.ts`: æ·»åŠ  `Normalizer` ç±»å‹å’Œå¯é€‰ normalizer å‚æ•°
  ```typescript
  export type Normalizer = (text: string) => string;

  export function levenshteinSimilarity(
    s1: string,
    s2: string,
    normalizer?: Normalizer
  ): number
  ```

- `rank.ts`: åœ¨å€™é€‰æ‰“åˆ†æ—¶åº”ç”¨ normalizer
- `strategies.ts`: åœ¨ä¸‰ç§åŒ¹é…ç­–ç•¥ä¸­ä¼ é€’ normalizer
- `match.ts`: åˆ›å»º normalizer é—­åŒ…
  ```typescript
  const normalizer = (text: string) => normalize(text, config.normalize);
  const matchResult = match(cleaned.supplier, cleaned.project, index, 0.6, 3, normalizer);
  ```

**2. ä¿®å¤åå¤„ç†æ¸…æ´— bug** (`match.ts:98-108`)

æ”¯æŒå…¨è§’å’ŒåŠè§’å†’å·çš„ admin prefix æ¸…æ´—ï¼š
```typescript
const adminPrefixes = [
  'é¡¹ç›®ç®¡ç†å•ä½ï¼šå®¢æˆ·æœåŠ¡ä¸­å¿ƒå¸‚åœºåŠå¤§å®¢æˆ·æœåŠ¡å®¤',
  'é¡¹ç›®ç®¡ç†å•ä½:å®¢æˆ·æœåŠ¡ä¸­å¿ƒå¸‚åœºåŠå¤§å®¢æˆ·æœåŠ¡å®¤',  // åŠè§’ç‰ˆæœ¬
  'é¡¹ç›®ç®¡ç†å•ä½ï¼šè¿ç»´æ£€ä¿®éƒ¨å·¥ç¨‹åç§°ï¼š',
  'é¡¹ç›®ç®¡ç†å•ä½:è¿ç»´æ£€ä¿®éƒ¨å·¥ç¨‹åç§°:',              // åŠè§’ç‰ˆæœ¬
  // ...
];
```

**3. é…ç½®ç‰ˆæœ¬æ›´æ–°**

æ–°å»ºé…ç½®ç‰ˆæœ¬ `configs/v0.labs/958582ab/`:
- `normalize.user.json`: æ–°å¢ 9 ä¸ªæ ‡ç‚¹ç¬¦å·å½’ä¸€åŒ–è§„åˆ™
  - `ï¼š` â†’ `:`
  - `ï¼›` â†’ `;`
  - `ï¼ˆ` â†’ `(`
  - `ï¼‰` â†’ `)`
  - `ã€` â†’ `[`
  - `ã€‘` â†’ `]`
  - `"` â†’ `"`
  - `"` â†’ `"`
  - `ã€Šã€‹` â†’ `<>`

#### æµ‹è¯•ç»“æœ

| ç‰ˆæœ¬ | Exact | Review | Fail | è‡ªåŠ¨é€šè¿‡ç‡ | è¿è¡Œ ID |
|------|-------|--------|------|------------|---------|
| Baseline | 8 (3.6%) | 79 (35.6%) | 135 (60.8%) | 3.6% | `run_postprocess_20251112_231036` |
| P0-1 Bugfix | 8 (3.6%) | 80 (36.0%) | 134 (60.4%) | 3.6% | `run_p0_1_bugfix_20251113_011205` |
| P0-2 | 8 (3.6%) | 80 (36.0%) | 134 (60.4%) | 3.6% | `run_p0_2_20251113_024120` |

**P0-1 æ•ˆæœåˆ†æ**:
- âœ… 47 ä¸ªæ–‡ä»¶åˆ†æ•°æ”¹å–„ï¼Œå¹³å‡æå‡ +0.9%
- âœ… 1 ä¸ªæ–‡ä»¶ä» fail â†’ review
- âœ… 3 ä¸ªæ–‡ä»¶è¾¾åˆ°å®Œç¾åŒ¹é… (score = 1.0000)
- âœ… ä¿®å¤äº† 6 ä¸ªåå¤„ç†æ¸…æ´—å›å½’æ¡ˆä¾‹
- âŒ è‡ªåŠ¨é€šè¿‡ç‡æ— æ”¹å–„ (æœªè¾¾æ¡¶ä½è·ƒè¿é˜ˆå€¼)

**P0-2 å¤±æ•ˆåŸå› **:
- âŒ å®Œå…¨æ— æ•ˆï¼Œç»“æœä¸ P0-1 bugfix å®Œå…¨ç›¸åŒ
- ğŸ› **å‘ç°è®¾è®¡ç¼ºé™·**: `bucketize.ts:57-76` è§„åˆ™é¡ºåºé”™è¯¯
  - Rule 4 (delta check) æå‰è¿”å›ï¼Œé˜»æ­¢ Rule 5 (autoPass check) æ‰§è¡Œ
  - å¯¼è‡´ minDeltaTop å‚æ•°è°ƒæ•´æ— æ³•å°† DELTA_TOO_SMALL æ¡ˆä¾‹è½¬ä¸º exact
  - **å½±å“èŒƒå›´**: 80 ä¸ª DELTA_TOO_SMALL æ¡ˆä¾‹ (36.0%)ï¼Œå…¶ä¸­ 28 ä¸ª Top1 >= 0.95

#### ç›¸å…³æ–‡æ¡£

- **å®Œæ•´æŠ¥å‘Š**: `runs/P0_optimization_report_20251113.md`
- **å¤±è´¥åˆ†æ**: `analysis/failure_analysis_report.md`
- **ä¼˜åŒ–è·¯çº¿å›¾**: `analysis/optimization_roadmap.md`

#### ä¸‹ä¸€æ­¥è®¡åˆ’

**å¾…ä¿®å¤**: åˆ†æ¡¶é€»è¾‘è®¾è®¡ç¼ºé™·
- **Option 1**: è°ƒæ•´è§„åˆ™é¡ºåº (å…ˆ autoPassï¼Œå† delta)
- **Option 2**: é«˜ç½®ä¿¡åº¦æ—è·¯ (æ¨è)
  ```typescript
  if (top1.score >= 0.90 && top1.f1_score >= 0.80 && top1.f2_score >= 0.80) {
    return { bucket: 'exact', reason: null };
  }
  ```

**é¢„æœŸæ”¹å–„**: ä¿®å¤åè‡ªåŠ¨é€šè¿‡ç‡ **3.6% â†’ 12-16%** (3-4å€æå‡)

---

### v0.1.2 - å¤šæ–‡ä»¶ DB ç´¢å¼•æ”¯æŒ (2025-11-12)

**å®æ–½å†…å®¹**:
- æ”¯æŒå¤šä¸ª Excel æ–‡ä»¶ä½œä¸º DB è¾“å…¥
- è‡ªåŠ¨åˆå¹¶åˆ—ç»“æ„ï¼ˆå– unionï¼‰
- ç”Ÿæˆç»Ÿä¸€çš„ DB digest

**ä»£ç å˜æ›´**:
- `build-index.ts`: æ”¯æŒ `--db` æŒ‡å‘ç›®å½•æˆ–æ–‡ä»¶
- `manifest.json`: è®°å½• DB fingerprints

**æµ‹è¯•ç»“æœ**:
- âœ… æˆåŠŸåˆå¹¶ `ledger-1.xlsx` å’Œ `ledger-2.xlsx`
- âœ… æ€»è¡Œæ•°ï¼š178,043
- âœ… å”¯ä¸€ supplierï¼š517 ä¸ª
- âœ… å€’æ’è¯æ¡ï¼š13,848 ä¸ª

---

### v0.1.1 - åå¤„ç†å­—æ®µæ¸…æ´— (2025-11-11)

**å®æ–½å†…å®¹**:
- å®ç°åå¤„ç† admin prefix æ¸…æ´—
- æ·»åŠ  `was_cleaned` æ ‡è®°åˆ° `results.csv`

**ä»£ç å˜æ›´**:
- `match.ts`: æ·»åŠ  adminPrefixes æ£€æµ‹å’Œæ¸…æ´—é€»è¾‘
- `results.csv`: æ–°å¢ `was_cleaned` åˆ—

**æµ‹è¯•ç»“æœ**:
- âœ… 29 ä¸ªæ–‡ä»¶è¢«æ¸…æ´—
- âœ… å¹³å‡åˆ†æ•°æå‡ +5.2%
- âœ… 7 ä¸ªæ–‡ä»¶æ¡¶ä½æ”¹å–„

---

### v0.1.0 - æ ¸å¿ƒæµç¨‹å®ç° (2025-11-10)

**å®æ–½å†…å®¹**:
- å®Œæˆå››é˜¶æ®µå¤„ç†ç®¡çº¿ï¼ˆnormalize â†’ extract â†’ match â†’ bucketizeï¼‰
- å®ç°ä¸‰çº§åŒ¹é…ç­–ç•¥ï¼ˆfast-exact â†’ anchor â†’ recall+rankï¼‰
- ç”Ÿæˆè¿è¡ŒåŒ…ç»“æ„ï¼ˆmanifest.json / results.csv / summary.md / log.jsonlï¼‰

**ä»£ç å˜æ›´**:
- `normalize/pipeline.ts`: æ–‡æœ¬å½’ä¸€åŒ–
- `extract/extractor.ts`: å­—æ®µæå–
- `match/strategies.ts`: åŒ¹é…ç­–ç•¥
- `bucket/bucketize.ts`: åˆ†æ¡¶é€»è¾‘
- `report/generator.ts`: æŠ¥å‘Šç”Ÿæˆ

**æµ‹è¯•ç»“æœ**:
- âœ… åŸºç¡€æµç¨‹æ‰“é€š
- âœ… Baseline è‡ªåŠ¨é€šè¿‡ç‡ï¼š3.6%
- âœ… å¹³å‡è€—æ—¶ï¼š8.3s/æ–‡ä»¶

---

## å…³é”®æŒ‡æ ‡æ¼”è¿›

| ç‰ˆæœ¬ | è‡ªåŠ¨é€šè¿‡ç‡ | å¹³å‡åˆ†æ•° | å¹³å‡è€—æ—¶ | é…ç½®ç‰ˆæœ¬ |
|------|-----------|---------|---------|---------|
| v0.1.0 | 3.6% | 0.6421 | 8.3s | v0.base |
| v0.1.1 | 3.6% | 0.6690 (+4.2%) | 8.3s | v0.postprocess |
| v0.1.2 | 3.6% | 0.6690 | 8.3s | v0.postprocess |
| v0.1.3 | 3.6% | 0.6751 (+0.9%) | 8.3s | v0.labs/958582ab |
| v0.1.4 | 27.5% (+663%) | 0.6751 | 9.7s | v0.labs/958582ab |
| **v0.1.5** | **31.5% (+14.5%)** | 0.6751 | 9.8s | v0.labs/958582ab |

**é‡å¤§çªç ´**:
- v0.1.4 ä¿®å¤åˆ†æ¡¶é€»è¾‘ï¼Œè‡ªåŠ¨é€šè¿‡ç‡æå‡ **7.6 å€**
- v0.1.5 P1ä¼˜åŒ–ï¼Œè‡ªåŠ¨é€šè¿‡ç‡æå‡ **1.15 å€**

---

## æŠ€æœ¯å€ºåŠ¡

### High

1. **ç¼ºå°‘ results_top3.csv**
   - å½±å“ï¼šæ— æ³•åˆ†æ Top3 å€™é€‰åˆ†æ•°åˆ†å¸ƒ
   - ä¿®å¤æ–¹æ¡ˆï¼šåœ¨ `report/generator.ts` ä¸­æ·»åŠ  Top3 è¾“å‡º
   - ä¼˜å…ˆçº§ï¼šP1

2. **ç¼ºå°‘ review.html å•é¡µå®¡æŸ¥å™¨**
   - å½±å“ï¼šæ— æ³•å¿«é€Ÿäººå·¥å®¡æ ¸
   - ä¿®å¤æ–¹æ¡ˆï¼šå®ç°å‰ç«¯å•é¡µåº”ç”¨
   - ä¼˜å…ˆçº§ï¼šP1

---

**æœ€åæ›´æ–°**: 2025-11-13 10:15
